{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/special_topics/artists-instruments-boilerplate-antd/client/src/components/forms/AddInstrument.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { Form, Input, Button, Select } from \"antd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { GET_INSTRUMENTS, ADD_INSTRUMENT } from \"../../queries\";\nconst {\n  Option\n} = Select;\n\nconst handleChange = value => {\n  console.log(`selected ${value}`);\n};\n\nconst AddInstrument = () => {\n  const [id] = useState(uuidv4());\n  const [addInstrument] = useMutation(ADD_INSTRUMENT);\n  const [form] = Form.useForm();\n  const [, forceUpdate] = useState(); // To disable submit button at the beginning.\n\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  const onFinish = values => {\n    const {\n      year,\n      brand,\n      type,\n      price,\n      artistId\n    } = values; // addInstrument({\n    //   variables: {\n    //     id,\n    //     year,\n    //     brand,\n    //     type,\n    //     price,\n    //     artistId\n    //   },\n    //   optimisticResponse: {\n    //     __typename: 'Mutation',\n    //     addInstrument: {\n    //       __typename: 'Instrument',\n    //       id,\n    //     year,\n    //     brand,\n    //     type,\n    //     price,\n    //     artistId\n    //     }\n    //   },\n    //   update: (proxy, { data: { addArtist } }) => {\n    //     const data = proxy.readQuery({ query: GET_ARTISTS })\n    //     proxy.writeQuery({\n    //       query: GET_ARTISTS,\n    //       data: {\n    //         ...data,\n    //         artists: [...data.artists, addArtist]\n    //       }\n    //     })\n    //   }\n    //})\n    //}\n\n    return /*#__PURE__*/React.createElement(Form, {\n      form: form,\n      name: \"add-instrument-form\",\n      layout: \"inline\",\n      onFinish: onFinish,\n      size: \"medium\",\n      style: {\n        marginBottom: \"40px\",\n        marginTop: \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"year\",\n      rules: [{\n        required: true,\n        message: \"Please input the year of the instrument!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"i.e. 1981\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"brand\",\n      rules: [{\n        required: true,\n        message: \"Please input the brand of the instrument!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"i.e. Yamaha\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"type\",\n      rules: [{\n        required: true,\n        message: \"Please input the type of the instrument!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"i.e. Acoustic Guitar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"price\",\n      rules: [{\n        required: true,\n        message: \"Please input the price of the instrument!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"i.e. $300\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"artistId\",\n      rules: [{\n        required: true,\n        message: \"Please choose the artist!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      defaultValue: \"1\",\n      style: {\n        width: 120\n      },\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Option, {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, \"4\"))), /*#__PURE__*/React.createElement(Form.Item, {\n      shouldUpdate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, () => /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      style: {\n        marginLeft: \"350px\",\n        marginTop: \"70px\"\n      },\n      disabled: !form.isFieldsTouched(true) || form.getFieldsError().filter(({\n        errors\n      }) => errors.length).length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, \"Add Instrument\")));\n  };\n};\n\nexport default AddInstrument;","map":{"version":3,"sources":["/Users/user/Documents/special_topics/artists-instruments-boilerplate-antd/client/src/components/forms/AddInstrument.js"],"names":["React","useEffect","useState","useMutation","Form","Input","Button","Select","v4","uuidv4","GET_INSTRUMENTS","ADD_INSTRUMENT","Option","handleChange","value","console","log","AddInstrument","id","addInstrument","form","useForm","forceUpdate","onFinish","values","year","brand","type","price","artistId","marginBottom","marginTop","required","message","width","marginLeft","isFieldsTouched","getFieldsError","filter","errors","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,qBAA5B;AAEA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,MAA9B,QAA4C,MAA5C;AAEA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,eAAhD;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaL,MAAnB;;AACA,MAAMM,YAAY,GAAIC,KAAD,IAAW;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAa,YAAWF,KAAM,EAA9B;AACD,CAFD;;AAIA,MAAMG,aAAa,GAAG,MAAM;AAC1B,QAAM,CAACC,EAAD,IAAOhB,QAAQ,CAACO,MAAM,EAAP,CAArB;AACA,QAAM,CAACU,aAAD,IAAkBhB,WAAW,CAACQ,cAAD,CAAnC;AAEA,QAAM,CAACS,IAAD,IAAShB,IAAI,CAACiB,OAAL,EAAf;AACA,QAAM,GAAGC,WAAH,IAAkBpB,QAAQ,EAAhC,CAL0B,CAO1B;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,QAAQ,GAAGC,MAAM,IAAI;AAC3B,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,KAAR;AAAeC,MAAAA,IAAf;AAAqBC,MAAAA,KAArB;AAA4BC,MAAAA;AAA5B,QAAyCL,MAA/C,CAD2B,CAG3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBACE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAEJ,IADR;AAEE,MAAA,IAAI,EAAC,qBAFP;AAGE,MAAA,MAAM,EAAC,QAHT;AAIE,MAAA,QAAQ,EAAEG,QAJZ;AAKE,MAAA,IAAI,EAAC,QALP;AAME,MAAA,KAAK,EAAE;AAAEO,QAAAA,YAAY,EAAE,MAAhB;AAAwBC,QAAAA,SAAS,EAAE;AAAnC,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE,oBAAC,IAAD,CAAM,IAAN;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAE,CACL;AACEC,QAAAA,QAAQ,EAAE,IADZ;AAEEC,QAAAA,OAAO,EAAE;AAFX,OADK,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASE,oBAAC,KAAD;AAAO,MAAA,WAAW,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CARF,eAmBE,oBAAC,IAAD,CAAM,IAAN;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,KAAK,EAAE,CACL;AACED,QAAAA,QAAQ,EAAE,IADZ;AAEEC,QAAAA,OAAO,EAAE;AAFX,OADK,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASE,oBAAC,KAAD;AAAO,MAAA,WAAW,EAAC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CAnBF,eA8BE,oBAAC,IAAD,CAAM,IAAN;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAE,CACL;AACED,QAAAA,QAAQ,EAAE,IADZ;AAEEC,QAAAA,OAAO,EAAE;AAFX,OADK,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASE,oBAAC,KAAD;AAAO,MAAA,WAAW,EAAC,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CA9BF,eAyCE,oBAAC,IAAD,CAAM,IAAN;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,KAAK,EAAE,CACL;AACED,QAAAA,QAAQ,EAAE,IADZ;AAEEC,QAAAA,OAAO,EAAE;AAFX,OADK,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASE,oBAAC,KAAD;AAAO,MAAA,WAAW,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CAzCF,eAqDE,oBAAC,IAAD,CAAM,IAAN;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,EAAE,CAAC;AAAED,QAAAA,QAAQ,EAAE,IAAZ;AAAkBC,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE,oBAAC,MAAD;AAAQ,MAAA,YAAY,EAAC,GAArB;AAAyB,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAhC;AAAgD,MAAA,QAAQ,EAAErB,YAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAEE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,eAGE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHF,eAIE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,CAJF,CArDF,eAgEE,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,YAAY,EAAE,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,mBACC,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,QAAQ,EAAC,QAFX;AAGE,MAAA,KAAK,EAAE;AAACsB,QAAAA,UAAU,EAAC,OAAZ;AAAqBJ,QAAAA,SAAS,EAAC;AAA/B,OAHT;AAIE,MAAA,QAAQ,EACN,CAACX,IAAI,CAACgB,eAAL,CAAqB,IAArB,CAAD,IACAhB,IAAI,CAACiB,cAAL,GAAsBC,MAAtB,CAA6B,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAgBA,MAAM,CAACC,MAApD,EAA4DA,MANhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CAhEF,CADF;AAkFD,GAzHC;AA0HD,CAtID;;AAuIA,eAAevB,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\n\nimport { Form, Input, Button, Select } from \"antd\";\n\nimport { v4 as uuidv4 } from \"uuid\";\nimport { GET_INSTRUMENTS, ADD_INSTRUMENT } from \"../../queries\";\nconst { Option } = Select;\nconst handleChange = (value) => {\n  console.log(`selected ${value}`);\n};\n\nconst AddInstrument = () => {\n  const [id] = useState(uuidv4());\n  const [addInstrument] = useMutation(ADD_INSTRUMENT);\n\n  const [form] = Form.useForm();\n  const [, forceUpdate] = useState();\n\n  // To disable submit button at the beginning.\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  const onFinish = values => {\n  const { year, brand, type, price, artistId } = values\n\n  // addInstrument({\n  //   variables: {\n  //     id,\n  //     year,\n  //     brand,\n  //     type,\n  //     price,\n  //     artistId\n\n  //   },\n  //   optimisticResponse: {\n  //     __typename: 'Mutation',\n  //     addInstrument: {\n  //       __typename: 'Instrument',\n  //       id,\n  //     year,\n  //     brand,\n  //     type,\n  //     price,\n  //     artistId\n\n  //     }\n  //   },\n  //   update: (proxy, { data: { addArtist } }) => {\n  //     const data = proxy.readQuery({ query: GET_ARTISTS })\n  //     proxy.writeQuery({\n  //       query: GET_ARTISTS,\n  //       data: {\n  //         ...data,\n  //         artists: [...data.artists, addArtist]\n  //       }\n  //     })\n  //   }\n  //})\n  //}\n\n  return (\n    <Form\n      form={form}\n      name=\"add-instrument-form\"\n      layout=\"inline\"\n      onFinish={onFinish}\n      size=\"medium\"\n      style={{ marginBottom: \"40px\", marginTop: \"40px\" }}\n    >\n      <Form.Item\n        name=\"year\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the year of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. 1981\" />\n      </Form.Item>\n      <Form.Item\n        name=\"brand\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the brand of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. Yamaha\" />\n      </Form.Item>\n      <Form.Item\n        name=\"type\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the type of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. Acoustic Guitar\" />\n      </Form.Item>\n      <Form.Item\n        name=\"price\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the price of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. $300\" />\n      </Form.Item>\n\n      <Form.Item\n        name=\"artistId\"\n        rules={[{ required: true, message: \"Please choose the artist!\" }]}\n      >\n        <Select defaultValue=\"1\" style={{ width: 120 }} onChange={handleChange}>\n          <Option value=\"1\">1</Option>\n          <Option value=\"2\">2</Option>\n          <Option value=\"3\">3</Option>\n          <Option value=\"4\">4</Option>\n        </Select>\n      </Form.Item>\n      <Form.Item shouldUpdate={true}>\n        {() => (\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{marginLeft:\"350px\", marginTop:\"70px\"}}\n            disabled={\n              !form.isFieldsTouched(true) ||\n              form.getFieldsError().filter(({ errors }) => errors.length).length\n            }\n          >\n            Add Instrument\n          </Button>\n        )}\n      </Form.Item>\n    </Form>\n  );\n};\n}\nexport default AddInstrument\n"]},"metadata":{},"sourceType":"module"}