{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/special_topics/artists-instruments-boilerplate-antd/client/src/components/forms/AddInstrument.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { Form, Input, Button, Select } from \"antd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { GET_INSTRUMENTS, ADD_INSTRUMENT } from \"../../queries\";\nconst {\n  Option\n} = Select;\n\nconst handleChange = value => {\n  console.log(`selected ${value}`);\n};\n\nconst AddInstrument = () => {\n  const [id] = useState(uuidv4());\n  const [addInstrument] = useMutation(ADD_INSTRUMENT);\n  const [form] = Form.useForm();\n  const [, forceUpdate] = useState(); // To disable submit button at the beginning.\n\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  const onFinish = values => {\n    const {\n      year,\n      brand,\n      type,\n      price,\n      artistId\n    } = values; // addInstrument({\n    //   variables: {\n    //     id,\n    //     year,\n    //     brand,\n    //     type,\n    //     price,\n    //     artistId\n    //   },\n    //   optimisticResponse: {\n    //     __typename: 'Mutation',\n    //     addInstrument: {\n    //       __typename: 'Instrument',\n    //       id,\n    //     year,\n    //     brand,\n    //     type,\n    //     price,\n    //     artistId\n    //     }\n    //   },\n    //   update: (proxy, { data: { addArtist } }) => {\n    //     const data = proxy.readQuery({ query: GET_ARTISTS })\n    //     proxy.writeQuery({\n    //       query: GET_ARTISTS,\n    //       data: {\n    //         ...data,\n    //         artists: [...data.artists, addArtist]\n    //       }\n    //     })\n    //   }\n    //})\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    name: \"add-instrument-form\",\n    layout: \"inline\",\n    onFinish: onFinish,\n    size: \"medium\",\n    style: {\n      marginBottom: \"40px\",\n      marginTop: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"year\",\n    rules: [{\n      required: true,\n      message: \"Please input the year of the instrument!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"i.e. 1981\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"brand\",\n    rules: [{\n      required: true,\n      message: \"Please input the brand of the instrument!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"i.e. Yamaha\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"type\",\n    rules: [{\n      required: true,\n      message: \"Please input the type of the instrument!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"i.e. Acoustic Guitar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"price\",\n    rules: [{\n      required: true,\n      message: \"Please input the price of the instrument!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"i.e. $300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"artistId\",\n    rules: [{\n      required: true,\n      message: \"Please choose the artist!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    defaultValue: \"1\",\n    style: {\n      width: 120\n    },\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, \"4\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    shouldUpdate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, () => /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    style: {\n      marginLeft: \"350px\",\n      marginTop: \"70px\"\n    },\n    disabled: !form.isFieldsTouched(true) || form.getFieldsError().filter(({\n      errors\n    }) => errors.length).length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, \"Add Instrument\")));\n};\n\nexport default AddInstrument;","map":{"version":3,"sources":["/Users/user/Documents/special_topics/artists-instruments-boilerplate-antd/client/src/components/forms/AddInstrument.js"],"names":["React","useEffect","useState","useMutation","Form","Input","Button","Select","v4","uuidv4","GET_INSTRUMENTS","ADD_INSTRUMENT","Option","handleChange","value","console","log","AddInstrument","id","addInstrument","form","useForm","forceUpdate","onFinish","values","year","brand","type","price","artistId","marginBottom","marginTop","required","message","width","marginLeft","isFieldsTouched","getFieldsError","filter","errors","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\n\nimport { Form, Input, Button, Select } from \"antd\";\n\nimport { v4 as uuidv4 } from \"uuid\";\nimport { GET_INSTRUMENTS, ADD_INSTRUMENT } from \"../../queries\";\nconst { Option } = Select;\nconst handleChange = (value) => {\n  console.log(`selected ${value}`);\n};\n\nconst AddInstrument = () => {\n  const [id] = useState(uuidv4());\n  const [addInstrument] = useMutation(ADD_INSTRUMENT);\n\n  const [form] = Form.useForm();\n  const [, forceUpdate] = useState();\n\n  // To disable submit button at the beginning.\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  const onFinish = values => {\n  const { year, brand, type, price, artistId } = values\n\n  // addInstrument({\n  //   variables: {\n  //     id,\n  //     year,\n  //     brand,\n  //     type,\n  //     price,\n  //     artistId\n\n  //   },\n  //   optimisticResponse: {\n  //     __typename: 'Mutation',\n  //     addInstrument: {\n  //       __typename: 'Instrument',\n  //       id,\n  //     year,\n  //     brand,\n  //     type,\n  //     price,\n  //     artistId\n\n  //     }\n  //   },\n  //   update: (proxy, { data: { addArtist } }) => {\n  //     const data = proxy.readQuery({ query: GET_ARTISTS })\n  //     proxy.writeQuery({\n  //       query: GET_ARTISTS,\n  //       data: {\n  //         ...data,\n  //         artists: [...data.artists, addArtist]\n  //       }\n  //     })\n  //   }\n  //})\n  }\n\n  return (\n    <Form\n      form={form}\n      name=\"add-instrument-form\"\n      layout=\"inline\"\n      onFinish={onFinish}\n      size=\"medium\"\n      style={{ marginBottom: \"40px\", marginTop: \"40px\" }}\n    >\n      <Form.Item\n        name=\"year\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the year of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. 1981\" />\n      </Form.Item>\n      <Form.Item\n        name=\"brand\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the brand of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. Yamaha\" />\n      </Form.Item>\n      <Form.Item\n        name=\"type\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the type of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. Acoustic Guitar\" />\n      </Form.Item>\n      <Form.Item\n        name=\"price\"\n        rules={[\n          {\n            required: true,\n            message: \"Please input the price of the instrument!\",\n          },\n        ]}\n      >\n        <Input placeholder=\"i.e. $300\" />\n      </Form.Item>\n\n      <Form.Item\n        name=\"artistId\"\n        rules={[{ required: true, message: \"Please choose the artist!\" }]}\n      >\n        <Select defaultValue=\"1\" style={{ width: 120 }} onChange={handleChange}>\n          <Option value=\"1\">1</Option>\n          <Option value=\"2\">2</Option>\n          <Option value=\"3\">3</Option>\n          <Option value=\"4\">4</Option>\n        </Select>\n      </Form.Item>\n      <Form.Item shouldUpdate={true}>\n        {() => (\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{marginLeft:\"350px\", marginTop:\"70px\"}}\n            disabled={\n              !form.isFieldsTouched(true) ||\n              form.getFieldsError().filter(({ errors }) => errors.length).length\n            }\n          >\n            Add Instrument\n          </Button>\n        )}\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default AddInstrument\n"]},"metadata":{},"sourceType":"module"}